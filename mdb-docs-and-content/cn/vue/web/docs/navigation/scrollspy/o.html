<!--Section: Intro-->
<section id="introduction">

  <!--Title-->
  <h2 class="primary-heading">Vue Bootstrap Scrollspy <a href="https://mdbootstrap.com/products/vue-ui-kit/"
    target="_blank" class="btn btn-danger btn-sm" role="button">MDB Pro component
    <i class="far fa-gem ml-1"></i>
  </a></h2>

  <h1 class="secondary-heading mb-4">Vue Scrollspy - Bootstrap 4 & Material Design</h1>

  <!--Description-->
  <p class="description">Vue Bootstrap scrollspy is a plugin which shows on the navigation list current position on the
    page depends on the scroll
    position defined by the user. </p>

</section>
<!--/Section: Intro-->

<hr class="my-5">

<!--Section: How it works-->
<section id="how-it-works">

  <!--Title-->
  <h2 class="title">How it works</h2>

  <!--Description-->
  <div class="description">
    <p>Bootstrap scrollspy is a plugin which shows on the navigation list current position on the page depends on the
      scroll position defined by the user.</p>
    <p>When successfully implemented, your nav or list group will update accordingly, moving the
      <code>.active</code> class from one item to the next based on their associated targets.</p>
  </div>

</section>
<!--/Section: How it works-->

<hr class="my-5">

<!--Section: Basic example-->
<section id="basic-example">

  <!--Title-->
  <h2 class="title">Basic example</h2>

  <!--Description-->
  <p class="description">Scroll down to see the effect</p>

  <!--Section: Live preview-->
  <section>

    <style>
      .scrollspy-example {
        height: 200px;
      }

      #mdb-scrollspy-ex .nav-item {
        width: 100%;
      }

      #mdb-scrollspy-ex a {
        font-size: .8rem;
        font-weight: 400;
        line-height: 1.1rem;
        padding: 0 5px;
        margin-top: 3px;
        margin-bottom: 3px;
        color: black;
      }

      #mdb-scrollspy-ex li .active {
        font-weight: 600;
      }

      .mdb-scrollspy-ex-example {
        height: 200px;
      }
    </style>

    <!-- Nav tabs -->
    <ul id="navbar-example1" class="nav nav-tabs md-tabs nav-justified indigo mb-4 mx-0">
      <li class="nav-item">
        <a class="nav-link active" href="#panel1">Profile</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#panel2">Follow</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#panel3">Contact</a>
      </li>
    </ul>
    <!--Spied element-->
    <div class="scrollspy-example z-depth-1 mt-4" data-spy="scroll" data-target="#navbar-example1" data-offset="0">
      <h4 class="pt-4" id="panel1" class="font-weight-bold">section1</h4>
      <p>Ad leggings keytar, brunch id art party dolor labore. Pitchfork yr enim lo-fi before they sold out qui. Tumblr
        farm-to-table bicycle rights whatever. Anim keffiyeh carles cardigan. Velit seitan mcsweeney's photo
        booth 3 wolf moon irure. Cosby sweater lomo jean shorts, williamsburg hoodie minim qui you probably haven't
        heard of them et cardigan trust fund culpa biodiesel wes anderson aesthetic. Nihil tattooed accusamus,
        cred irony biodiesel keffiyeh artisan ullamco consequat.</p>
      <p>Ad leggings keytar, brunch id art party dolor labore. Pitchfork yr enim lo-fi before they sold out qui. Tumblr
        farm-to-table bicycle rights whatever. Anim keffiyeh carles cardigan. Velit seitan mcsweeney's photo
        booth 3 wolf moon irure. Cosby sweater lomo jean shorts, williamsburg hoodie minim qui you probably haven't
        heard of them et cardigan trust fund culpa biodiesel wes anderson aesthetic. Nihil tattooed accusamus,
        cred irony biodiesel keffiyeh artisan ullamco consequat.</p>
      <h4 class="pt-4" id="panel2" class="font-weight-bold">section2</h4>
      <p>Veniam marfa mustache skateboard, adipisicing fugiat velit pitchfork beard. Freegan beard aliqua cupidatat
        mcsweeney's vero. Cupidatat four loko nisi, ea helvetica nulla carles. Tattooed cosby sweater food truck,
        mcsweeney's quis non freegan vinyl. Lo-fi wes anderson +1 sartorial. Carles non aesthetic exercitation
        quis gentrify. Brooklyn adipisicing craft beer vice keytar deserunt.</p>
      <p>Ad leggings keytar, brunch id art party dolor labore. Pitchfork yr enim lo-fi before they sold out qui. Tumblr
        farm-to-table bicycle rights whatever. Anim keffiyeh carles cardigan. Velit seitan mcsweeney's photo
        booth 3 wolf moon irure. Cosby sweater lomo jean shorts, williamsburg hoodie minim qui you probably haven't
        heard of them et cardigan trust fund culpa biodiesel wes anderson aesthetic. Nihil tattooed accusamus,
        cred irony biodiesel keffiyeh artisan ullamco consequat.</p>
      <h4 class="pt-4" id="panel3" class="font-weight-bold">section3</h4>
      <p>Occaecat commodo aliqua delectus. Fap craft beer deserunt skateboard ea. Lomo bicycle rights adipisicing
        banh mi, velit ea sunt next level locavore single-origin coffee in magna veniam. High life id vinyl,
        echo park consequat quis aliquip banh mi pitchfork. Vero VHS est adipisicing. Consectetur nisi DIY minim
        messenger bag. Cred ex in, sustainable delectus consectetur fanny pack iphone.</p>
      <p>Ad leggings keytar, brunch id art party dolor labore. Pitchfork yr enim lo-fi before they sold out qui. Tumblr
        farm-to-table bicycle rights whatever. Anim keffiyeh carles cardigan. Velit seitan mcsweeney's photo
        booth 3 wolf moon irure. Cosby sweater lomo jean shorts, williamsburg hoodie minim qui you probably haven't
        heard of them et cardigan trust fund culpa biodiesel wes anderson aesthetic. Nihil tattooed accusamus,
        cred irony biodiesel keffiyeh artisan ullamco consequat.</p>
    </div>
    <!--/.Spied element-->

  </section>
  <!--Section: Live preview-->

  <!--Section: Code-->
  <section>
    <mdbsnippet>
      <code data-lang="html" data-name="template">
        <template>
          <mdb-container>
            <mdb-scrollspy-box>
              <mdb-scrollspy-list color="red">
                <mdb-scrollspy-list-item @click.native.prevent="scrollTo('section 1')" :active="active === 1 ? true : false">section1</mdb-scrollspy-list-item>
                <mdb-scrollspy-list-item @click.native.prevent="scrollTo('section 2')" :active="active === 2 ? true : false">section2</mdb-scrollspy-list-item>
                <mdb-scrollspy-list-item @click.native.prevent="scrollTo('section 3')" :active="active === 3 ? true : false">section3</mdb-scrollspy-list-item>
              </mdb-scrollspy-list>
              <div :style="{height: '60px'}"></div>
              <h4>Scroll down to see the effect</h4>
              <hr class="mb-5" />
              <mdb-scrollspy-text @scroll.native="handleScroll" ref="sectionText">
                <section v-for="(section, key) in sections" :key="key" :ref="section.id">
                  <h4>{{section.topic}}</h4>
                  <p>{{section.text}}</p>
                </section>
              </mdb-scrollspy-text>
            </mdb-scrollspy-box>
          </mdb-container>
        </template>
      </code>
      <code data-lang="html" data-name="script">
        <script>
          import { mdbContainer, mdbScrollspyBox, mdbScrollspyList, mdbScrollspyListItem, mdbScrollspyText } from 'mdbvue';
          export default {
            name: 'ScrollspyPage',
            components: {
              mdbContainer,
              mdbScrollspyBox,
              mdbScrollspyList,
              mdbScrollspyListItem,
              mdbScrollspyText
            },
            data() {
              return {
                active: 1,
                scrollSpySectionsOffset: [],
                sections: [
                  { id: "section 1", topic: "section 1", text: "(...)" },
                  { id: "section 2", topic: "section 2", text: "(...)"},
                  { id: "section 3", topic: "section 3", text: "(...)"}
                ]
              };
            },
            methods: {
              scrollTo(refName) {
                var element = this.$refs[refName];
                var top = element[0].offsetTop;
                this.$refs.sectionText.$el.scrollTo(0, top);
              },
              handleScroll() {
                for (let i = 0; i < this.scrollSpySectionsOffset.length; i++) {
                  if (this.$refs.sectionText.$el.scrollTop > this.scrollSpySectionsOffset[i]) {
                    if (this.$refs.sectionText.$el.scrollTop > this.scrollSpySectionsOffset[i+1]) {
                    } else {
                      this.active = i+1;
                    }
                  }
                }
              }
            },
            mounted() {
              let scrollSpySections = this.$refs.sectionText.$el.children;
              for (let i = 0; i < scrollSpySections.length; i++) {
                let currentOffsetTop = scrollSpySections[i].offsetTop - 16;
                if (!this.scrollSpySectionsOffset.includes(currentOffsetTop)) {
                  this.scrollSpySectionsOffset.push(currentOffsetTop);
                }
              }
            }
          }
        </script>
      </code>
    </mdbsnippet>
  </section>
  <!--Section: Code-->

</section>
<!--/Section: Basic example-->